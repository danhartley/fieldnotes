<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Learn the planet fieldnotes writer</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" href="./favicon.ico" />
    <script src="./ui-writer.js" type="module"></script>
  </head>

  <body>  
    <header>
      <h1>Learn the planet</h1>
    </header>

    <main class="mt2">
      <fieldset class="fieldset-reset">
        <legend class="hidden">Preview or edit fieldnotes</legend>
        <section>
          <div class="section-header section-group">
            <h2>              
              <input id="edit-ctrl-input-radio" type="radio" name="author-mode" value="edit" checked>
              <label for="edit-ctrl-input-radio">
                Edit mode
              </label>
            </h2>
          </div>        
        </section> 
        <section>
          <div class="section-header section-group">
            <h2>              
              <input id="preview-ctrl-input-radio" type="radio" name="author-mode" value="preview">
              <label for="preview-ctrl-input-radio">
                Preview mode
              </label>
            </h2>
          </div>      
        </section>       
      </fieldset>

      <section>
        <fieldset class="mt2">
          <legend>iNaturalist settings</legend>
          <p class="mt0 small">If you are basing your fieldnotes on iNaturalist observations, lookup your user account and select the date of your field trip.</p>
          <div class="centred-block">
              <label for="inat-autocomplete-input-text" class="mr">User</label>
              <input id="inat-autocomplete-input-text" list="inat-autocomplete-data-list" type="text" class="p" autocomplete="off" spellcheck="false" placeholder="Start typing a username or user ID…">
              <datalist id="inat-autocomplete-data-list"></datalist>
          </div>
          <div id="inat-params-input-check-box-group" class="grid mt2"></div>
          <div class="centred-block mt2">
            <label for="observations-date" class="mr">Date</label>
            <input type="date" id="observations-date" name="observations-date" class="mr" />
          </div>

          <div class="centred-block mt2">
            <button id="fetch-inat-species-btn" class="submit mr">Search iNaturalist for species</button>
            <div id="fetch-inat-species-notification-text" class="small hidden">Waiting for response from iNaturalist…</div>
          </div>
        </fieldset>
      </section>

      <article id="edit-view">
        <section id="meta-data-section">
          <fieldset>
            <legend>Field trip</legend>
            <div class="small mb2">Meta data derived from your iNaturalist observations.</div>
            <dl id="inat-meta-data-dl">
              <dt>Author</dt><dd>Your iNaturalist username</dd>
              <dt>Date</dt><dd>The day of your field trip</dd>
              <dt>Location</dt><dd>Where you were</dd>
            </dl>
          </fieldset>
        </section>

        <section>    
          <fieldset>
            <legend>Title</legend>
              <div class="small mb2">It helps others if the title is specific to your field trip.</div>
              <div class="centred-block">
                <label for="title-input-text">Title</label>      
                <input id="title-input-text" type="text" class="p" autocomplete="off">
              </div>
          </fieldset>
        </section>

        <section id="select-section-type-section">
          <fieldset>
            <legend>Choose the type of entry you want to make</legend>
            <button type="button" value="h3-input" class="mb">H3</button>
            <button type="button" value="h4-input" class="mb">H4</button>
            <button type="button" value="textarea" class="mb">Text block</button>
            <button type="button" value="observations" class="mb">Observations</button>
            <button type="button" value="species" class="mb">Species</button>
            <button type="button" value="images" class="mb">Images</button>
            <button type="button" value="terms" class="mb">Terms</button>
            <button type="button" value="birdsong-input" class="mb">Birdsong</button>
          </fieldset>
        </section>

        <div id="draggable-sections"></div>
      </article>

      <article id="preview-view" class="hidden">
        Preview mode…
      </article>

      <section>
        <fieldset>
          <legend>Save your field notes</legend>
          <button id="save-field-notes-btn" class="p">Save field notes</button>
        </fieldset>
      </section>
    </main>

    <!-- Add templates -->

    <template id="checkbox-template">
      <div class="flex-row">                  
        <input type="checkbox" id="" name="" />
        <label for=""></label>
      </div>
    </template>

    <template id="section-template">
      <section draggable="true" class="draggable">
        <fieldset class="mt2">
          <legend></legend>
          <div></div>      
          <button id="add-section-btn" class="small mt2 disabled add">Add section</button>
          <button id="edit-section-btn" class="small mt2 edit hidden">Edit section</button>
          <button id="delete-section-btn" class="small mt2 edit">Delete section</button>
        </fieldset>
      </section>
    </template>

    <template id="section-include-template">
      <section draggable="true" class="draggable">
        <fieldset class="mt2 species-list">
          <legend></legend>
          <button id="show-include-only-btn">Show only included</button>
          <div></div>      
          <button id="delete-section-btn" class="small mt2 edit">Delete</button>
        </fieldset>
      </section>
    </template>

    <template id="h3-input-template">
      <input type="text" class="p add" />
      <div class="edit hidden"></div>
    </template>
    
    <template id="h4-input-template">
      <input type="text" class="p add" />
      <div class="edit hidden"></div>
    </template>

    <template id="birdsong-input-template">
      <input type="text" class="p add" />
      <div class="edit hidden"></div>
    </template>
    
    <template id="textarea-template">
      <textarea type="textarea" class="p add" rows="10"></textarea>
      <div class="edit hidden"></div>
    </template>

    <template id="terms-template">
      <div id="terms">
        <div class="box">
          <div class="centred-block mb">
            <label for="">Term</label>
            <input name="" id="" spellcheck="false" autocomplete="off" placeholder="Start typing a term…" class="p" type="text"></input>
            <datalist id=""></datalist>  
          </div>
          <div id="selected-term">
            <div class="centred-block mb">
              <span>Definition</span><span>---</span>
            </div>
            <div class="centred-block mb">
              <span>Source</span><span>---</span>
            </div>
            <div class="centred-block mb">
              <span>Author</span><span>---</span>
            </div>
            <div class="centred-block mb">
              <span>Examples</span><span>---</span>
            </div>
          </div>
        </div>
        <button id="add-selected-term" class="small disabled add mt">Add selected term</button>
        <div class="mt2 mb2 small">Select an exisiting term, or create a new one…</div>
        <div class="box">
          <div class="centred-block mb">
            <label for="inputTerm">Term</label>
            <input id= "inputTerm" type="text" class="p">
            <datalist id="autocomplete-term-list"></datalist>
          </div>
          <div class="centred-block mb">
            <label for="inputDefinition">Definition</label>
            <textarea name="" id="inputDefinition" rows="3"></textarea>
          </div>
          <div class="centred-block mb">
            <label for="inputSource">Source</label>
            <input id= "inputSource" type="text" class="p">
          </div>
          <div class="centred-block mb">
            <label for="inputAuthor">Author</label>
            <input id= "inputAuthor" type="text" class="p">
          </div>
          <div class="centred-block mb">
            <label for="inputExamples">Examples</label>
            <input id= "inputExamples" type="text" class="p">
          </div>
        </div>
      </div>
    </template>

    <!-- Preview templates -->

    <template id="h3-template">
      <h3></h3>
    </template>

    <template id="h4-template">
      <h4></h4>
    </template>

    <template id="xenocanto-template">
      <input type="text" class="p" />
    </template>

    <template id="text-template">      
      <p></p>
    </template>

    <template id="observations-template">      
      <div></div>
    </template>

    <template id="species-template">      
      <div></div>
    </template>

    <template id="img-template">
      <figure class="centred-block small">
        <img src="" alt="" width="75px" height="75px" class="mr">
        <div class="flex-columns">
          <span class="text-left mb05"></span>
          <span class="text-left mb05"></span>
          <div class="centred-block">
            <input type="checkbox" id="" name="" />
            <label for="">Include</label>
          </div>
        </div>
      </figure>
    </template>
  </body>

  </html>