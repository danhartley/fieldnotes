<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Learn the planet fieldnotes writer</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" href="./favicon.ico" />
    <script src="./ui-writer.js" type="module"></script>
  </head>

  <body>  
    <header>
      <h1>Learn the planet</h1>
    </header>

    <main class="mt2">
      <fieldset class="fieldset-reset">
        <legend class="hidden">Preview or edit fieldnotes</legend>
        <section>
          <div class="section-header section-group">
            <h2>              
              <input id="edit-ctrl-input-radio" type="radio" name="author-mode" value="edit" checked>
              <label for="edit-ctrl-input-radio">
                Edit mode
              </label>
            </h2>
          </div>        
        </section> 
        <section>
          <div class="section-header section-group">
            <h2>              
              <input id="preview-ctrl-input-radio" type="radio" name="author-mode" value="preview">
              <label for="preview-ctrl-input-radio">
                Preview mode
              </label>
            </h2>
          </div>      
        </section>       
      </fieldset>

      <section>
        <fieldset class="mt2">
          <legend>iNaturalist settings</legend>
          <p class="mt0 small">If you are basing your fieldnotes on iNaturalist observations, lookup your user account and select the date of your field trip.</p>
          <div class="centred-block">
              <label for="inat-autocomplete-input-text" class="mr">User</label>
              <input id="inat-autocomplete-input-text" list="inat-autocomplete-data-list" type="text" class="p" autocomplete="off" spellcheck="false" placeholder="Start typing a username or user ID…">
              <datalist id="inat-autocomplete-data-list"></datalist>
          </div>
          <div id="inat-params-input-check-box-group" class="grid mt2"></div>
          <div class="centred-block mt2">
            <label for="observations-date" class="mr">Date</label>
            <input type="date" id="observations-date" name="observations-date" class="mr" />
          </div>

          <div class="centred-block mt2">
            <button id="fetch-inat-species-btn" class="submit mr">Search iNaturalist for species</button>
            <div id="fetch-inat-species-notification-text" class="small hidden">Waiting for response from iNaturalist…</div>
          </div>
        </fieldset>
      </section>

      <article id="edit-view">
        <section id="meta-data-section">
          <fieldset>
            <legend>Field trip</legend>
            <div class="small mb2">Meta data derived from your iNaturalist observations.</div>
            <dl id="inat-meta-data-dl">
              <dt>Author</dt><dd>Your iNaturalist username</dd>
              <dt>Date</dt><dd>The day of your field trip</dd>
              <dt>Location</dt><dd>Where you were</dd>
            </dl>
          </fieldset>
        </section>

        <section>    
          <fieldset>
            <legend>Title</legend>
              <div class="small mb2">Make the title specific to your field trip.</div>
              <div class="centred-block">
                <label for="title-input-text">Title</label>      
                <input id="title-input-text" type="text" class="p">
              </div>
          </fieldset>
        </section>

        <section id="select-section-type-section">
          <fieldset>
            <legend>Choose the type of entry you want to make</legend>
            <button type="button" value="h3" class="mb">H3</button>
            <button type="button" value="h4" class="mb">H4</button>
            <button type="button" value="textarea" class="mb">Text block</button>
            <button type="button" value="species-observations" class="mb">Species observations</button>
            <button type="button" value="images" class="mb">Images</button>
            <button type="button" value="terms" class="mb">Terms</button>
            <button type="button" value="birdsong" class="mb">Birdsong</button>
          </fieldset>
        </section>
      </article>

      <article id="preview-view" class="hidden">
        Preview mode…
      </article>
    </main>

    <template id="checkbox-template">
      <div class="flex-row">                  
        <input type="checkbox" id="" name="" />
        <label for=""></label>      
      </div>
    </template>

    <template id="section-template">
      <section>
        <fieldset class="mt2">
          <legend></legend>
          <div></div>      
          <button id="add-section-btn" class="small mt2 disabled add">Add</button>
          <button id="edit-section-btn" class="small mt2 edit hidden">Edit</button>
          <button id="delete-section-btn" class="small mt2 edit hidden">Delete</button>
        </fieldset>
      </section>
    </template>

    <template id="h2-template">
      <input type="text" class="p" />
      <div class="edit hidden"></div>
    </template>
    
    <template id="h3-template">
      <input type="text" class="p" />
      <div class="edit hidden"></div>
    </template>
    
    <template id="textarea-template">
      <textarea type="textarea" class="p add"></textarea>
      <div class="edit hidden"></div>
    </template>

    <template id="text-template">      
      <p></p>
    </template>      
  </body>

  </html>